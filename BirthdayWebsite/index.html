<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Birthday Greeting</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;700&display=swap" rel="stylesheet">

    </head>
    <body>
       <div class="maincontainer">
            <div class="headercontainer svgWrapper">
                <svg viewBox="0 0 500 200" preserveAspectRatio="xMidYMid meet">
                <path id="curve" d="M20,120 Q250,0 480,120" />
                <text width="500" text-anchor="middle" class="text" id="svgText">
                <textPath id = "textPath" xlink:href="#curve" startOffset="50%">
                    Create Your Own Greeting!
                </textPath>
                </text>
                </svg>
            </div>
            <div class="cakecontainer">
                <div id="candleCount" style="display:none;"></div>
                <img src="path27.png" class="cakeShadow">
                
                <div class="cakeWrapper">
                    <img src="caked.png" class="cakeImage" id="cakeImage">
                    
                    <!-- Candle is placed directly inside cakeWrapper -->
                    <div class="candle" id="mainCandle">
                        <!-- New flame-wrapper for better alignment -->
                        <div class="flame-wrapper">
                            <div class="flame"></div>
                        </div>
                    </div>
                </div>
                </div>


            <div class="linkmaker">
                
            </div>
            <div class="makecontainer">
                <h2>Customize your Greeting!</h2>
                <label for="textInput">Birthday Greeting!</label>
                <input type="text" id="textInput" required maxlength="80" placeholder="Type your text here..." />
                <div class="bottomrow">
                <label for="fontSlider">Font Size</label>
                <input type="range" id="fontSlider" min="10" max="80" value="40">
                <label for="hueShift">Hue Shift</label>
                <input type="range" id="hueShift" min="0" max="360" value="0">
                </div>
            </div>
       </div>
        <script>
            const input = document.getElementById('textInput');
            const textPath = document.getElementById('textPath');
            const svgText = document.getElementById('svgText'); // Get the SVG text element
            const fontSlider = document.getElementById('fontSlider');
            const hueSlider = document.getElementById('hueShift');
            const body = document.body; // Get the body element for background hue shift
            const cakeImage = document.getElementById('cakeImage'); // Get the cake image element

            // Event listener for text input
            input.addEventListener('input', () => {
                textPath.textContent = input.value || " "; // Avoid empty textPath bug
            });

            // Event listener for font size slider
            fontSlider.addEventListener('input', () => {
                svgText.style.fontSize = `${fontSlider.value}px`; // Apply font size to SVG text
            });

            // Event listener for hue shift slider
            hueSlider.addEventListener('input', () => {
                const hueValue = hueSlider.value;
                body.style.filter = `hue-rotate(${hueValue}deg)`; // Apply hue shift to body background
                cakeImage.style.filter = `hue-rotate(${hueValue}deg)`; // Apply hue shift to cake image
            });

            // Set initial font size and hue shift based on slider values
            svgText.style.fontSize = `${fontSlider.value}px`;
            body.style.filter = `hue-rotate(${hueSlider.value}deg)`;
            cakeImage.style.filter = `hue-rotate(${hueSlider.value}deg)`;

        </script>
        <script src="script.js" async defer></script>
            <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.2"></script>
    </body>
</html>
